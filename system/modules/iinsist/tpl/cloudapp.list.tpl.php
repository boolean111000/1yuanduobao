
<?php

defined("G_IN_ADMIN") || exit("No permission resources.");
echo "<!DOCTYPE html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<title>云应用中心</title>\r\n<link rel=\"stylesheet\" href=\"";
echo G_GLOBAL_STYLE;
echo "/global/css/global.css\" type=\"text/css\">\r\n<script src=\"";
echo G_GLOBAL_STYLE;
echo "/global/js/jquery-1.8.3.min.js\"></script>\r\n<style>\r\n\tbody{ background:#f7f7f7;color:#666;width: auto;  padding: 0px 20px;font-family: 'Microsoft Yahei',\"微软雅黑\",arial,\"宋体\",sans-serif;}\r\n\t#header{ margin-top: 30px; padding: 5px 0px;position: relative; overflow:visible;}\r\n\t\r\n\t#header span{ \r\n\t\tdisplay:block; float:left; text-align:center;background: #f8f8f8; font-size: 20px;\r\n\t\twidth:50%; line-height: 40px; color: #666; cursor: pointer;\r\n\t\tbox-shadow:0px 0px 0px 3px #e5e5e5;font-weight: bold; letter-spacing:8px\r\n\t}\r\n\t#header span.border-left{border-radius: 5px 0px 0px 5px;}\r\n\t#header span.border-right{border-radius: 0px 5px 5px 0px;}\r\n\t#header span.hover{ background: #f60; color:#fff;}\r\n\t#header span:hover{font-size: 21px;}\r\n\t\t\r\n\tspan#back{position:absolute; top:5px;left:90px;z-index: -1;background: #f60;text-indent:-9999px;}\r\n\t\r\n\t\r\n\t/***************/\r\n\t#loading{\r\n\t\tdisplay:none; position: absolute; top:35%; left:42%;\r\n\t\tfont-size: 500%; font-weight: bold; text-align: center; color:#555;\r\n\t\tbackground: #e1e1e1; padding: 10px 15px;\r\n\t\tborder-radius: 10px; border: 4px solid #eee; z-index: 100;\r\n\t\t\r\n\t\t\r\n\t\tanimation: myfirst 1s;\r\n\t\t-moz-animation: myfirst 1s;\t/* Firefox */\r\n\t\t-webkit-animation: myfirst 1s;\t/* Safari 和 Chrome */\r\n\t\t-o-animation: myfirst 1s;\t/* Opera */\t\t\r\n\t\t-webkit-animation-iteration-count: infinite;/*定义循环资料，infinite为无限次*/\r\n\t}\r\n\t\r\n\t@-webkit-keyframes myfirst /* Safari 和 Chrome */\r\n\t{\r\n\t\tfrom {color: #ccc;}\r\n\t\tto {color: #111;}\r\n\t}\r\n\t\r\n\t@keyframes myfirst\r\n\t{\r\n\tfrom {color: #ccc;}\r\n\t\t\tto {color: #111;}\r\n\t}\r\n\t\r\n\t@-moz-keyframes myfirst /* Firefox */\r\n\t{\r\n\tfrom {color: #ccc;}\r\n\t\t\tto {color: #111;}\r\n\t}\r\n\t\r\n\t@-webkit-keyframes myfirst /* Safari 和 Chrome */\r\n\t{\r\n\tfrom {color: #ccc;}\r\n\tto {color: #111;}\r\n\t}\r\n\t\r\n\t@-o-keyframes myfirst /* Opera */\r\n\t{\r\n\tfrom {color: #ccc;}\r\n\t\t\tto {color: #111;}\r\n\t}\r\n\t\r\n\t\r\n\t/********************/\r\n\t \r\n\t .footer{ background: #eee; text-align: center; padding: 15px 0px;\t\t\t\r\n\t\t\t box-shadow:0px 0px 0px 3px #f8f8f8;border-radius: 10px; margin: 15px 0;\r\n\t }\r\n\t\r\n\t/****************/\r\n\timg.thumb{\r\n\t\twidth:99%;\r\n\t\t\t\r\n\t}\r\n\tspan.btn{ \r\n\t\tpadding: 5px 8px;border-radius: 3px;display:inline-block; margin: 5px;\r\n\t}\r\n\t\r\n\t.C_ccc{ background: #ccc; color:#fff;cursor: not-allowed;}\r\n\t.C_09c{ background: #09c; color:#fff;cursor:pointer;}\r\n\t.C_f00{ background: #f00; color:#fff;cursor:pointer;}\r\n\t.C_f60{ background: #f60; color:#fff;cursor:pointer;}\r\n\t\r\n\t\r\n\r\n\t/************/\r\n\t#content{\r\n\t\tbackground:#f2f2f2;\r\n\t\tpadding: 10px;\r\n\t\tbox-shadow:0px 0px 0px 3px #eee;\r\n\t\tmargin-top: 50px;\r\n\t\tborder-radius: 10px\r\n\t}\r\n\t\r\n\t#content h1{letter-spacing:8px;}\r\n\t#boxlist{ padding: 20px 0px; overflow: hidden; width: 100%;}\r\n\t.app{\r\n\t\tfloat:left; border-radius: 10px; border:0px solid #e5e5e5; box-shadow:0px 0px 0px 1px #e5e5e5;\r\n\t\twidth:24%; height:auto; background: #fff;  padding: 30px 0px;\r\n\t\tmargin-right: 1%;margin-bottom: 1%;\r\n\t}\r\n\t\r\n\t.app p{\r\n\t\twidth:90%;\r\n\t\tmargin: auto; margin-bottom: 10px; \r\n\t}\r\n\t.app p i{\r\n\t\tcolor: #f60; font-size: 13px;\r\n\t\tdisplay:inline-block; width: 15%;\r\n\t\tvertical-align: top;\t\t\r\n\t}\r\n\t.app p span.text{\r\n\t\t display:inline-block; max-width: 80%;\r\n\t}\r\n\t\r\n\t\t\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div id=\"header\">\r\n\t<span class=\"hover border-left\" callback=\"install_app\" data=\"yes\">已安装</span>\r\n\t<span class=\"border-right\" callback=\"install_app\" data=\"no\">应用市场</span>\r\n\r\n</div>\r\n\r\n\r\n<div id=\"content\">\r\n\t<h1 class=\"icon\">应用列表</h1>\r\n\t<div id=\"boxlist\">\r\n\t</div>\r\n</div>\r\n\r\n\r\n<div id=\"loading\">Loading</div>\r\n<script src=\"http://jq22.qiniudn.com/masonry-docs.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n\tvar plugins = {};\r\n\t\tplugins.heredoc = function(fn) {\r\n\t\t\t //return fn.toString().split('\\n').slice(1,-1).join('\\n') + '\\n'\r\n\t\t\t  return fn.toString().match(/\/\*!?(?:\@preserve)?[ \\t]*(?:\\r\\n|\\n)([\s\S]*?)(?:\\r\\n|\\n)\s*\*\//)[1];\r\n\t\t}\r\n\t\t\r\n\t\tplugins.viewsx = plugins.heredoc(function(){/*\r\n\t      \r\n\t\t    <div class=\"app\">\t\t\t\r\n\t\t\t\t<p><img class=\"thumb\" src=\"http://a.boobusy.com/statics/uploads/banner/55.png\"/></p>\t\t\t\t\r\n\t\t\t\t<p><i>名称:</i> <span class=\"text\">图片上传插件 版本 1.0</span></p>\r\n\t\t\t\t<p><i>作者:</i> <span class=\"text\">战了个线</span></p>\r\n\t\t\t\t<p><i>授权:</i> <span class=\"text\">免费的哟</span></p>\t\t\t\t\r\n\t\t\t\t<p><i>介绍:</i> <span class=\"text\">213123</span></p>\t\t\t\t\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<i>操作:</i>\r\n\t\t\t\t\t<span class=\"text\">\t\t\r\n\t\t\t\t\t\t<span class=\"btn C_ccc\">已安装</span>\r\n\t\t\t\t\t\t<span class=\"btn C_f60\">购　买</span>\r\n\t\t\t\t\t\t<span class=\"btn C_f00\">卸　载</span>\t\t\t\t\t\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</p>\t\t\t\t\t\r\n\t\t\t</div>                               \r\n\t\t*/});\r\n\t\t\r\n\t\tplugins.view = function(data){\t\t\t\r\n\t\t\tvar html = \"\";\r\n\t\t\thtml += '<div class=\"app\">';\r\n\t\t\t\thtml += '<p><img class=\"thumb\" src=\"'+data.PluginPhoto+'\"/></p>';\r\n\t\t\t\thtml += '<p><i>名称:</i> <span class=\"text\">'+data.PluginName+'</span></p>';\r\n\t\t\t\thtml += '<p><i>作者:</i> <span class=\"text\">'+data.Author +\"　\"+ data.Author_email+'</span></p>';\r\n\t\t\t\thtml += '<p><i>版本:</i> <span class=\"text\">'+data.Version+'</span></p>';\r\n\t\t\t\thtml += '<p><i>授权:</i> <span class=\"text\">'+'</span></p>';\r\n\t\t\t\thtml += '<p><i>介绍:</i> <span class=\"text\">'+data.PluginDesc+'</span></p>';\r\n\t\t\t\thtml += '<p>';\r\n\t\t\t\t\thtml += '<i>操作:</i>';\r\n\t\t\t\t\thtml += '<span class=\"text\">';\r\n\t\t\t\t\t\thtml += '<span class=\"btn C_ccc\">已安装</span>';\r\n\t\t\t\t\t\thtml += '<span class=\"btn C_f60\">购　买</span>';\r\n\t\t\t\t\t\thtml += '<span class=\"btn C_f00\">卸　载</span>';\r\n\t\t\t\t\thtml += '</span>';\r\n\t\t\t\thtml += '</p>';\r\n\t\t\thtml += \"</div>\";\r\n\t\t\treturn html;\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\tfunction install_app(dom){\t\r\n\t\tvar keys = dom.attr(\"data\");\r\n\t\t$(\"#header span\").removeClass(\"hover\");\r\n\t\tdom.addClass(\"hover\");\t\t\r\n\t\tif(keys == \"yes\"){\r\n\t\t\tif(!plugins['local_view']){\r\n\t\t\t\t$.post(\"";
G_WEB_PATH;
echo "/?plugin=1&api=Manager&action=listinfo\",{},function(data){\r\n\t\t\t\t\tdata = data.msg;\tplugins['local_view'] = \"\";\r\n\t\t\t\t\tfor(var i in data){\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tplugins['local_view'] += plugins.view(data[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar \$boxlist = $(\"#boxlist\")\r\n\t\t\t\t\t\$boxlist.html(plugins['local_view']).imagesLoaded(function() {\r\n\t\t\t\t    \$boxlist.masonry({\r\n\t\t                itemSelector: '.app',\r\n\t\t                /*gutter: 20,*/\r\n\t\t                isAnimated: true,\r\n\t            \t});\r\n\t     });\t\r\n\t\t\t\t},'json');\t\t\r\n\t\t\t}\r\n\t\t\t/*********/\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\t\t\r\n\t\tif(keys == \"no\"){\t\r\n\t\t\tif(!plugins['web']){\t\t\r\n\t\t\t\t$.post(\"";
G_WEB_PATH;
echo "/?plugin=1&api=Manager&action=weblistinfo\",{},function(data){\r\n\t\t\t\t\tplugins['web'] = data = data.msg;\r\n\t\t\t\t},'json');\r\n\t\t\t}\r\n\t\t\t/*********/\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t$(function(){\r\n\t\t$(\"#header span\").click(function(){\r\n\t\t\teval($(this).attr(\"callback\")+\"($(this))\");\r\n\t\t\t$(\"#loading\").show();\r\n\t\t});\t\t\r\n\t\t\t    \r\n\t     install_app($(\"#header span\").eq(0));\r\n\t});\r\n\t\r\n</script>\r\n</body>\r\n</html>";

?>
